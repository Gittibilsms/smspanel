
@model GittBilSmsCore.ViewModels.UserIndexViewModel

@{
    ViewData["Title"] = "Users";
    ViewData["PageClass"] = "userDetailsPage";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h3>@SharedResource.Users</h3>   
    <a href="/Users/Create" class="btn btn-primary d-flex align-items-center justify-content-center">
        <i class="material-icons-outlined">add</i> @SharedResource.Add_New_User
    </a>
</div>
<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table id="usersTable" class="table table-striped table-bordered dTable">
                <thead>
                    <tr>
                        <th>@SharedResource.Name</th>
                        <th>@SharedResource.User_name</th>
                        <th>@SharedResource.Email</th>
                        <th>@SharedResource.Telephone</th>
                        <th>@SharedResource._2FA_Type</th>
                        <th>@SharedResource.Creation_Date</th>
                        <th>@SharedResource.Updated_Date</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Users != null && Model.Users.Any())
                    {
                        @foreach (var user in Model.Users)
                        
                        {
                            <tr>
                                <td>@user.FullName</td>
                                <td><a asp-action="Details" asp-route-id="@user.Id">@user.UserName</a></td>
                                <td>@user.Email</td>
                                <td>@user.PhoneNumber</td>
                           @*      <td>@string.Join(", ", user.UserRoles?.Select(r => r.Role?.RoleName) ?? Enumerable.Empty<string>())</td> *@
                               <td></td>
                                <td>@user.CreatedAt.ToString("yyyy-MM-dd HH:mm")</td>
                                <td>@user.UpdatedAt?.ToString("yyyy-MM-dd HH:mm")</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr><td colspan="7">@SharedResource.No_users_found_</td></tr>
                    }
                </tbody>
            </table>
        </div>
</div>
</div>
@* @section Scripts {
    <script>
        $(function () {
            var type = '@TempData["Toastr.Type"]';
            var title = '@Html.Raw(TempData["Toastr.Title"] ?? "")';
            var msg = '@Html.Raw(TempData["Toastr.Message"] ?? "")';

            if (type && msg) {
                toastr.options = {
                    closeButton: true,
                    progressBar: true,
                    timeOut: 3000,
                    positionClass: "toast-top-right"
                };
                toastr[type](msg, title);

                // wait 3s before doing anything else (if you want auto actions)
                setTimeout(function () {
                    // Already on Index, so no redirect needed.
                    // If you wanted to go somewhere else, do it here.
                }, 3000);
            }
        });
    </script>
} *@
